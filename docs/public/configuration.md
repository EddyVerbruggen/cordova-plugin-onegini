# Configuration

This chapter explains how to configure the Onegini Cordova plugin in your Cordova application.

## Properties

The Cordova plugin is mostly automatically configured by the Onegini SDK Configurator. However, a few properties need to be specified manually:
- Native or PIN screens (`OneginiNativeScreens`) - Specifies whether native (authentication) screens or html authentication screens are used. `true` for native, 
`false` for html. If `true` is specified you need to also install the `onegini-cordova-native-screens` plugin. See also the 
[native or HTML Screens page](screens.md) page
- Android GCM sender ID (`OneginiGcmSenderId`) - The Google Cloud Messaging sender ID that you received when registering an application for GCM
- Root detection (`OneginiRootDetectionEnabled`) - Specifies whether root detection must be enabled or disabled. `true` for root detection enabled or `false` 
for root detection disabled.
- Debug detection (`OneginiDebugDetectionEnabled`)- Specifies whether debug detection must be enabled or disabled. `true` for debug detection enabled or 
`false` for debug detection disabled.

>**NB** After you have changed the `OneginiRootDetectionEnabled` or `OneginiDebugDetectionEnabled` properties you must remove and add your platforms again 
because the SDK configurator uses these values to determine whether root or debug detection must be enabled or disabled.

These properties must be specified in the [Cordova application configuration](https://cordova.apache.org/docs/en/latest/config_ref/index.html) file: 
`config.xml`. 

Below you see an example of these properties in the format required for the `config.xml` file.

```xml
  <!-- Onegini Cordova Plugin configuration -->
  <preference name="OneginiNativeScreens" value="true"/>
  <preference name="OneginiGcmSenderId" value="000000000"/>
  <preference name="OneginiRootDetectionEnabled" value="false"/>
  <preference name="OneginiDebugDetectionEnabled" value="false"/>
```

## iOS 9 and Xcode 7 requirements

In order to allow an application to communicate with a backend that does not support TLS 1.2 on iOS version 9.0 and greater an explicit permission needs to be 
added to your iOS application configuration plist file.

We recommend that you add the update platform config hook to your application. An 
[article on Stackoverflow](http://stackoverflow.com/questions/28198983/ionic-cordova-add-intent-filter-using-config-xml) gives the hook code and describes how 
to configure this. When you have configure the hook you can add the following code snippet to your `config.xml`.

```xml
    <config-file platform="ios" target="*-Info.plist" parent="NSAppTransportSecurity">
      <key>NSAppTransportSecurity</key>
      <dict>
        <key>NSAllowsArbitraryLoads</key>
        <true/>
      </dict>
    </config-file>
```

Please also note that if you are using Xcode 7.0 or newer you will have disable bitcode (`ENABLE_BITCODE = false`) in the .xcodeproj generated by Cordova 
framework.

## Example `config.xml` file
```xml
<?xml version='1.0' encoding='utf-8'?>
<widget id="com.onegini.exampleApp" version="0.0.1" xmlns="http://www.w3.org/ns/widgets" xmlns:android="http://schemas.android.com/apk/res/android">
  <name>Example app</name>
  <description>
    A sample to configure the Onegini Cordova plugin
  </description>
  <author email="developers@onegini.com" href="http://www.onegini.com">
    Onegini B.V.
  </author>
  <!-- Onegini Cordova Plugin configuration -->
  <preference name="OneginiNativeScreens" value="true"/>
  <preference name="OneginiGcmSenderId" value="000000000"/>
  <preference name="OneginiRootDetectionEnabled" value="false"/>
  <preference name="OneginiDebugDetectionEnabled" value="false"/>

  <content src="index.html"/>
  <icon src="www/res/icon/logo.png"/>
  <access origin="*"/>

  <platform name="ios">
    <!-- images are determined by width and height. The following are supported -->
    <splash src="www/res/icon/white.png" width="1" height="1"/>
    <splash src="www/res/icon/white.png" width="320" height="480"/>
    <splash src="www/res/icon/white.png" width="640" height="960"/>
    <splash src="www/res/icon/white.png" width="768" height="1024"/>
    <splash src="www/res/icon/white.png" width="1536" height="2048"/>
    <splash src="www/res/icon/white.png" width="1024" height="768"/>
    <splash src="www/res/icon/white.png" width="2048" height="1536"/>
    <splash src="www/res/icon/white.png" width="640" height="1136"/>
    <splash src="www/res/icon/white.png" width="750" height="1334"/>
    <splash src="www/res/icon/white.png" width="1242" height="2208"/>
    <splash src="www/res/icon/white.png" width="2208" height="1242"/>

    <config-file platform="ios" target="*-Info.plist" parent="UISupportedInterfaceOrientations~ipad">
      <array>
        <string>UIInterfaceOrientationLandscapeLeft</string>
        <string>UIInterfaceOrientationLandscapeRight</string>
      </array>
    </config-file>
  </platform>
</widget>

```